<f:subview xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:nxu="http://nuxeo.org/nxweb/util"
	xmlns:nxdir="http://nuxeo.org/nxdirectory"
	xmlns:nxl="http://nuxeo.org/nxforms/layout"
	xmlns:oh="http://osivia.org/html" id="#{widget.id}">
	<c:set var="mode" value="#{layout.mode}" />

	<div class="titre2">
		<img src="theme/images/icone_liste.gif" /><span>Définition de la liste</span>
	</div>

					

	<nxu:dataList id="fgts" value="#{currentDocument.listfgt.listFragment}"
		var="fgt">
		

		<s:div rendered="#{fgt.refURI eq fragmentBean.uri}">

			<ul class="newFragList">
				<li>
					<h:outputLabel value="Requête : " for="request" />
					<nxl:widgetType id="request" name="textarea" mode="edit" rows="3" cols="50"
						title="Requête NXQL retournant les documents à afficher dans la liste."
						value="#{fgt.request}"/>			
					<div class="note">Syntaxe exemple : return "ecm:path startswith '/portal-domain/root/page'"</div>
				</li>
				
				
				<li><h:outputLabel value="Affichage : " for="selectListStyle" />
					<oh:icons id="selectListStyle" src="#{config.listTemplates}"
							value="#{fgt.view}" ulStyleClass="cssStyleList"
							binding="#{simpleForm.simpleComponent}"
							inputClientId="#{simpleForm.simpleComponentClientId}"
							multiSelect="false" /></li>
				
				<li>
					<h:outputLabel value="Nombre de résultats : " for="view" >
					</h:outputLabel>

 					<nxl:widgetType id="list_maxItems" name="text" mode="edit" size="3"
						properties="#{fragmentBean.listViewsParam}" value="#{fgt.maxItems}" />		
					
				</li>
				<li>
					<h:outputLabel value="Taille des pages : " for="view" >
					</h:outputLabel>

 					<nxl:widgetType id="list_pageSize" name="text" mode="edit" size="3"
						properties="#{fragmentBean.listViewsParam}" value="#{fgt.pageSize}" />		
					
				</li>
				<li>
					<h:outputLabel value="Etendre la recherche hors du site : " for="view" >
					</h:outputLabel>

 					<nxl:widgetType id="list_policy" name="checkbox" mode="edit"
						properties="#{fragmentBean.listViewsParam}" value="#{fgt.allContents}" />		
					
				</li>				
			</ul>
		</s:div>

	</nxu:dataList>
</f:subview>

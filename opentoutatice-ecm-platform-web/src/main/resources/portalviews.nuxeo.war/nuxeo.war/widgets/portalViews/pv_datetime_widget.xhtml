<div xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:nxu="http://nuxeo.org/nxweb/util" id="#{widget.id}">

    <script type="text/javascript">

            jQuery(document).ready(function () {
                
                jQuery('.date-picker').datepicker({
                    language: "fr",
                    autoclose: true,
                    todayHighlight: true,
                    //startDate: "Beginning of time",
                    clearBtn: true
                });  
                
                jQuery('.time-picker').timepicker({
                    minuteStep: 1,
                    template: 'modal',
                    appendWidgetTo: 'body',
                    showSeconds: false,
                    showMeridian: false,
                    defaultTime: false
                });

                var $allDay = jQuery("[id*='pv_event_all_day']");
                if(typeof($allDay) !== "undefined"){

                    if($allDay.is(':checked')){
                            jQuery(".date-picker").attr("disabled", "disabled");
                            jQuery(".time-picker").attr("disabled", "disabled");

                            jQuery("[id*='pv_event_dtstart_date-picker']").removeAttr("disabled");
                        }

                    $allDay.click(function(){
                        
                        if($allDay.is(':checked')){
                            jQuery(".date-picker").attr("disabled", "disabled");
                            jQuery(".time-picker").attr("disabled", "disabled");

                            jQuery("[id*='pv_event_dtstart_date-picker']").removeAttr("disabled");
                        } else {
                            jQuery(".date-picker").removeAttr("disabled");
                            jQuery(".time-picker").removeAttr("disabled");
                        }

                    });
                }
            
            });
     </script>

    <div class="row">
        
        <div class="control-group">
            <div class="controls">
                <div class="col-sm-6">

                    <div class="input-group">
                        <h:outputLabel for="#{widget.id}_date-picker" class="input-group-addon"><i class="glyphicons calendar"></i>
                        </h:outputLabel>
                        <h:inputText id="#{widget.id}_date-picker"  class="date-picker form-control" value="#{field_0}" required="#{widget.properties.required}"/>
                    </div>
                    <h:message styleClass="errorMessage" for="#{widget.id}_date-picker" id="#{widget.id}_message" />
                    
                </div>
                <div class="col-sm-2">
                    <label class="control-label">#{messages['toutatice.label.time']}</label>
                </div>
                <div class="col-sm-4">
                <!-- add btn class after input-group-addon to enable time widget -->
                <div class="input-group">
                        <h:outputLabel for="#{widget.id}_time-picker" class="input-group-addon"><i class="glyphicons halflings time"></i>
                        </h:outputLabel>
                        <h:inputText id="#{widget.id}_time-picker" class="time-picker form-control" value="#{field_1}"/>
                    </div>

                </div>
            </div>
        </div>
    
    </div>
    <p/>

</div>
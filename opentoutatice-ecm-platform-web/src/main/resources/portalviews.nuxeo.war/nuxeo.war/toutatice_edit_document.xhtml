<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<nxthemes:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:nxthemes="http://nuxeo.org/nxthemes"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:nxh="http://nuxeo.org/nxweb/html"
	xmlns:nxu="http://nuxeo.org/nxweb/util"
	xmlns:nxl="http://nuxeo.org/nxforms/layout"
	xmlns:nxd="http://nuxeo.org/nxweb/document">

	<ui:define name="stylesheets">
		<link href="#{baseURL}css/toutatice-popup.min.css" type="text/css"
			rel="stylesheet" />
		<link href="#{baseURL}css/custom-popup.min.css" type="text/css"
			rel="stylesheet" />
		<link href="#{baseURL}org.richfaces.resources/javax.faces.resource/org.richfaces/calendar.ecss" type="text/css"
			rel="stylesheet" />
	</ui:define>

	<ui:define name="header_scripts">
		<script src="#{baseURL}scripts/bootstrap/bootstrap-nx-widgets.js"></script>
	</ui:define>

	<ui:define name="body">

		<div class="container">

			<div class="form-group">
				<div class="col-sm-offset-2 ttc-title">

					<fieldset>
						<legend>
							<h3>
								<i class="glyphicons halflings pencil"></i>
								<h:outputText value="#{messages['toutatice.views.edit.title']}" />
							</h3>
						</legend>
					</fieldset>

				</div>
			</div>

			<ui:include src="/incl/message_banner.xhtml" />

			<h:form enctype="multipart/form-data" id="document_edit"
				class="form form-horizontal" role="form">

				<div class="form-group">
					<div class="col-sm-10 col-sm-offset-2">
						<div class="btn-group" role="groupe">
							<nxu:set var="actions"
								value="#{webActions.getActionsList('TOUTATICE_EDIT_DOCUMENT_FORM')}"
								cache="true">

								<c:forEach var="action" items="#{actions}">
									<nxh:commandButton action="#{action.getLink()}"
										immediate="#{action.immediate}" onclick="#{action.confirm}"
										id="header_edit_doc_#{action.id}_sub"
										value="#{messages[action.label]}" class="btn btn-default" />
								</c:forEach>
							</nxu:set>
						</div>
					</div>
				</div>

				<nxl:documentLayout mode="edit" value="#{currentDocument}"
					template="/layouts/toutatice_div_layout_edit.xhtml" />

				<div class="form-group">
					<div class="col-sm-10 col-sm-offset-2">
						<div class="btn-group" role="groupe">
							<nxu:set var="actions"
								value="#{webActions.getActionsList('TOUTATICE_EDIT_DOCUMENT_FORM')}"
								cache="true">

								<c:forEach var="action" items="#{actions}">
									<nxh:commandButton action="#{action.getLink()}"
										immediate="#{action.immediate}" onclick="#{action.confirm}"
										id="header_edit_doc_#{action.id}"
										value="#{messages[action.label]}" class="btn btn-default" />
								</c:forEach>
							</nxu:set>
						</div>
					</div>
				</div>
				<h:inputHidden name="fromUrl" value="#{pageBean.fromUrl}" />

			</h:form>

			<div class="footer"></div>
		</div>
	</ui:define>

</nxthemes:composition>
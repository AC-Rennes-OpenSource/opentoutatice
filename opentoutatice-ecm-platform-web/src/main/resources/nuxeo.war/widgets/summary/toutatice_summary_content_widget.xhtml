<f:subview xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:nxu="http://nuxeo.org/nxweb/util" id="#{widget.id}">

	<c:if
		test="#{widget.mode != 'create' and widget.mode != 'edit' and field_0 != null}">
		<h3>
			<h:outputText value="#{messages[widget.label]}" />
		</h3>

		<c:if test="#{not empty field_0}">
			<div class="#{widgetProperty_cssClass}">
				<c:choose>
					<c:when test="#{(field_1 == 'text/html') or (empty field_1)}">
						<nxu:set var="translatedHtml"
							value="#{widgetProperty_translatedHtml}" cache="true">
							<c:if test="#{!empty translatedHtml}">
								<h:outputText value="#{translatedHtml}" escape="false" />
							</c:if>
							<c:if test="#{empty translatedHtml}">
								<h:outputText value="#{field_0}" escape="false" />
							</c:if>
						</nxu:set>
					</c:when>
					<c:when test="#{field_1 == 'text/x-web-markdown'}">
						<h:outputText
							value="#{richTextEditorActions.convertToHtml(field_0, field_1)}"
							escape="false" />
					</c:when>
					<c:otherwise>
						<pre>
            				<h:outputText value="#{field_0}" />
          				</pre>
					</c:otherwise>
				</c:choose>
			</div>
		</c:if>

	</c:if>
</f:subview>

<?xml version="1.0"?>

<component name="fr.toutatice.ecm.plateform.core.permissions">

	<require>org.nuxeo.ecm.core.security.SecurityService</require>
	<require>org.nuxeo.ecm.core.security.defaultPermissions</require>

	<extension target="org.nuxeo.ecm.core.security.SecurityService"
		point="permissions">

		<permission name="validationWorkflow_validation" />

		<permission name="Read">
			<remove>CanAskForPublishing</remove>
		</permission>

		<permission name="Write">
			<include>CanAskForPublishing</include>
		</permission>

		<permission name="validationWorkflow_validation">
			<include>Write</include>
		</permission>

		<permission name="RemotePublish">
			<include>CanAskForPublishing</include>
			<include>Write</include>
		</permission>

	</extension>


	<extension target="org.nuxeo.ecm.core.security.SecurityService"
		point="permissionsVisibility">

		<visibility type="PortalSite">
			<item order="1000" show="true">validationWorkflow_validation</item>
			<item show="true" order="150">CanAskForPublishing</item>
		</visibility>

		<visibility type="PortalPage">
			<item order="1000" show="true">validationWorkflow_validation</item>
			<item show="true" order="150">CanAskForPublishing</item>
		</visibility>

	</extension>

</component>

<?xml version="1.0"?>

<component name="fr.toutatice.ecm.platform.core.eventlistener">

	<extension target="org.nuxeo.ecm.core.event.EventServiceComponent"
		point="listener">
		
		<listener name="toutaticeAsynchronousUpdateListener" async="true" postCommit="false"
			class="fr.toutatice.ecm.platform.core.listener.ToutaticeAsynchronousUpdateListener"
			priority="100">
            <event>documentCreatedByCopy</event>
            <event>documentMoved</event>
            <event>documentRestored</event>
            <event>documentModified</event>
		</listener>

		<listener name="toutaticeDeletelistener" async="false" postCommit="false"
			class="fr.toutatice.ecm.platform.core.listener.ToutaticeDeleteEventListener"
			priority="120">
			<event>aboutToRemove</event>
			<event>aboutToRemoveVersion</event>
		</listener>
		
		<listener name="toutaticeDocumentMoved" async="true" postCommit="false"
			class="fr.toutatice.ecm.platform.core.listener.ToutaticeDocumentMoved"
			priority="123">
			<event>documentMoved</event>
		</listener>

	</extension>

</component>



<?xml version="1.0"?>
<component name="fr.toutatice.ecm.platform.web.portalviews.widgets">

	<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
		point="widgets">

		<widget name="pv_event_dtstart" type="ttc_datetime">
			<labels>
				<label mode="any">toutatice.label.date.begin</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>ttcevt:dateBegin</field>
				<field>ttcevt:timeBegin</field>
			</fields>
			<properties mode="any">
				<property name="currentDocument">value</property>
			</properties>
			<properties widgetMode="edit">
				<property name="required">true</property>
			</properties>
		</widget>

		<widget name="pv_event_dtend" type="ttc_datetime">
			<labels>
				<label mode="any">toutatice.label.date.end</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>ttcevt:dateEnd</field>
				<field>ttcevt:timeEnd</field>
			</fields>
			<properties mode="any">
				<property name="currentDocument">value</property>
			</properties>
			<properties widgetMode="edit">
				<property name="required">true</property>
			</properties>
		</widget>

	</extension>

	<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
		point="widgettypes">

		<widgetType name="ttc_datetime">
			<configuration>
				<title>Date time picker</title>
				<categories>
					<category>document</category>
				</categories>
				<supportedModes>
					<mode>view</mode>
					<mode>edit</mode>
				</supportedModes>
				<fields>
					<list>true</list>
					<complex>false</complex>
					<supportedTypes>
						<type>string</type>
					</supportedTypes>
				</fields>
				<!-- TODO: properties -->
			</configuration>
			<handler-class>
				org.nuxeo.ecm.platform.forms.layout.facelets.plugins.TemplateWidgetTypeHandler
			</handler-class>
			<property name="template">
				/widgets/portalViews/pv_datetime_widget.xhtml
			</property>
		</widgetType>

	</extension>

</component>